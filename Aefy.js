var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Aefy=function(){function t(){_classCallCheck(this,t),this.url=null,this.method=null,this.contentString=null,this.ready=!1,this.ajax=new XMLHttpRequest}return _createClass(t,[{key:"error",value:function(t,e){this.reset(),console.error("AEFY - Error "+t+", "+e)}},{key:"reset",value:function(){this.url=null,this.method=null,this.content=null,this.contentString=null,this.ready=!1}},{key:"prepare",value:function(t,e,n){this.validation(t,e,n)&&this.generateContentString(n)&&(this.url=t,this.method=e.toUpperCase(),this.ready=!0,"GET"===this.method?this.ajax.open("GET",this.url+"?"+this.contentString,!0):(this.ajax.open("POST",this.url,!0),this.ajax.setRequestHeader("Content-Type","application/x-www-form-urlencoded")))}},{key:"request",value:function(t){var e=this;this.ready?("GET"===this.method?this.ajax.send():this.ajax.send(this.contentString),this.ajax.onreadystatechange=function(){4===e.ajax.readyState&&200===e.ajax.status&&t(e.ajax.responseText)}):this.error(9,'Something is wrong, check the parameters you passed in the "prepare" method')}},{key:"generateContentString",value:function(t){var e="";for(var n in t){if("string"!=typeof t[n])return this.error(8,"All attributes of the content object must be of type String"),!1;e+=n+"="+t[n]+"&"}return e=e.slice(0,e.length-1),this.contentString=e,!0}},{key:"validation",value:function(t,e,n){return t?e?n?"string"!=typeof t?(this.error(4,"The url must be a String"),!1):"string"!=typeof e?(this.error(5,"The method must be a String"),!1):"object"!==(void 0===n?"undefined":_typeof(n))?(this.error(6,"The content must be a Object"),!1):"GET"===(e=e.toUpperCase())||"POST"===e||(this.error(7,'The method must be "POST" or "GET"'),!1):(this.error(3,"Request content not defined"),!1):(this.error(2,"Request method not defined"),!1):(this.error(1,"Request url not defined"),!1)}}]),t}();